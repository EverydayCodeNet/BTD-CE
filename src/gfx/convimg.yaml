palettes:
  - name: global_palette
    fixed-entries:
      # black
      - color: {index: 0, r: 0, g: 0, b: 0}

      # background color (transparent)
      - color: {index: 1, r: 88, g: 94, b: 181}

      # ── UI colors (used by hardcoded gfx_SetColor indices) ──

      # upgrade maxed-out fill
      - color: {index: 4, r: 100, g: 0, b: 0}

      # glue green / upgrade available outline
      - color: {index: 7, r: 0, g: 200, b: 0}

      # speed button normal fill / locked upgrade
      - color: {index: 8, r: 0, g: 80, b: 0}

      # upgrade button background
      - color: {index: 16, r: 32, g: 32, b: 32}

      # dark gray (HUD bar, borders)
      - color: {index: 24, r: 64, g: 64, b: 64}

      # green (valid placement, settings ON, victory text)
      - color: {index: 30, r: 0, g: 180, b: 0}

      # speed button fast-forward fill / selected upgrade
      - color: {index: 40, r: 0, g: 140, b: 0}

      # medium gray (borders)
      - color: {index: 60, r: 96, g: 96, b: 96}

      # gray (hint text, unselected items)
      - color: {index: 80, r: 128, g: 128, b: 128}

      # blue (freeze indicator)
      - color: {index: 95, r: 0, g: 100, b: 255}

      # red (start button, invalid placement, settings OFF, game over)
      - color: {index: 133, r: 200, g: 40, b: 40}

      # yellow (selected/highlighted items)
      - color: {index: 148, r: 255, g: 255, b: 0}

      # green (for grass)
      - color: {index: 158, r: 158, g: 181, b: 86}

      # grey (for path stone)
      - color: {index: 159, r: 133, g: 133, b: 133}

      # light gray (borders)
      - color: {index: 200, r: 200, g: 200, b: 200}

      # white
      - color: {index: 255, r: 255, g: 255, b: 255}
    images: automatic

converts:
  # Split towers into two groups to stay under 64KB appvar limit
  - name: tower_sprites_1
    palette: global_palette
    transparent-color-index: 1
    images:
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/bannana_farm/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/bomber/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/boomerang/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/catapult/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/dart/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/engineer/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/gattling/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/glue/*

  - name: tower_sprites_2
    palette: global_palette
    transparent-color-index: 1
    images:
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/ice/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/mortar/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/ninja/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/shredder/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/sniper/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/super/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/tack_farm/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/tack_pile/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/towers/wizard/*

  - name: bloon_sprites
    palette: global_palette
    transparent-color-index: 1
    images:
      # base bloon colors (non-regrow, non-camo)
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/non-regrow/non-camo/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/non-regrow/non-camo/red/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/non-regrow/non-camo/ceramic/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/non-regrow/non-camo/lead/*
      # regrow variants (rg_ prefix)
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/variants/rg_*
      # camo variants (c_ prefix)
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/variants/c_*
      # regrow+camo variants (rc_ prefix)
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/variants/rc_*
      # MOAB
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/bloons/MOAB/*

  - name: ui_sprites
    palette: global_palette
    transparent-color-index: 1
    images:
      # projectiles
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/projectiles/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/projectiles/bomb/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/projectiles/ninja_star/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/projectiles/spike_ball/*
      # icons
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/icons/*
      # effects
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/effects/MOAB/coatings/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/effects/MOAB/reinforced/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/effects/normal/coatings/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/effects/regrow/coatings/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/effects/sniper/*
      # animations
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/bomber/fire/blue/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/bomber/fire/orange/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/explosion/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/MOAB/propeller/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/monkey_arms/blue/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/monkey_arms/grey/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/monkey_arms/red/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/monkey_arms/skin/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/monkey_arms/white/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/rangs/red_glaive/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/rangs/red_rang/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/rangs/wood_rang/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/rangs/yellow_glaive/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/tack_factory/black/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/tack_factory/silver/*
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/animations/tack_factory/striped/*
      # chars
      - ../../media/shapes/Derek_and_Harum1_Sprites_shapes/misc/chars/*

outputs:
  - type: c
    include-file: gfx.h
    palettes:
      - global_palette

  - type: appvar
    name: BTDTW1
    include-file: btdtw1_gfx.h
    source-format: c
    converts:
      - tower_sprites_1

  - type: appvar
    name: BTDTW2
    include-file: btdtw2_gfx.h
    source-format: c
    converts:
      - tower_sprites_2

  - type: appvar
    name: BTDBLN
    include-file: btdbln_gfx.h
    source-format: c
    converts:
      - bloon_sprites

  - type: appvar
    name: BTDUI
    include-file: btdui_gfx.h
    source-format: c
    converts:
      - ui_sprites
